<div class="sub-panel" [ngClass]="{'visible': visible}">
  <div class="distribute-equally" *ngFor="let levelOptions of availableOptions; let level = index">
    <ng-container *ngIf="!(level==availableOptions.length-1 && hasDropDown); else dropdown">
      <button class="lighter" (click)="updateActiveOption(level, option)" *ngFor="let option of levelOptions"
              [ngClass]="{'active': activeOptions[level]==option}"
              [disabled]="!isAllowed(level, option)">{{option}}</button>
    </ng-container>
  </div>
  <div class="distribute-equally" *ngIf="!hasDropDown">
    <button class="lighter">Zoom in</button>
    <button class="lighter" *ngIf="hasData" (click)="downloadData()">Download data</button>
    <button class="lighter">Open in new tab</button>
  </div>

  <img [src]="imageSource">
</div>

<ng-template #dropdown>
  <div class="distribute-equally">
    <button class="lighter" *ngIf="hasData" (click)="downloadData()">Download data</button>
    <button class="lighter" *ngIf="!hasData">Zoom in</button>
    <button class="lighter" (click)="moveDropdown(-1)"><</button>
    <button class="lighter" [textContent]="activeOptions[activeOptions.length-1]"></button>
    <button class="lighter" (click)="moveDropdown(1)">></button>
    <button class="lighter">Open in new tab</button>
  </div>
</ng-template>
